{% extends "layout.html" %}

{% block title %}
    Poll Results
{% endblock %}

{% block content %}
<div class="container mt-5 ">
    <h1 class="mb-4 text-center">Results for {{ poll.title }}</h1>
    

    <div class="list-group m-1">
        {% if quiz_complete %}
            {% if responses %}
                {% for response in responses %}
                    <div class="list-group-item bg-dark-subtile p-5">
                        <h5 class="mb-1 fs-3 fw-bold text-capitalize">{{ response.user_info.name }}</h5>
                        
                        <p class="mb-1"><strong>Submitted At:</strong> {{ response.submit_time }}</p>
                        <p class="mb-1 fs-4"><strong>Score:</strong> {{ response.score }}</p>
                    </div>
                {% endfor %}
            {% else %}
                <div>No responses found.</div>
            {% endif %}
        {% else %}
            <div>Response submitted, waiting for results...</div>
        {% endif %}
        <a href="{% url 'index' %}" class='btn btn-primary m-4 p-2'>Home</a>
    </div>
</div>
{% endblock %}
